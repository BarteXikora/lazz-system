"use strict";(self.webpackChunklazz_ayatem=self.webpackChunklazz_ayatem||[]).push([[554],{2225:function(e,t,n){n.r(t),n.d(t,{default:function(){return ue}});var a=n(7689),s=n(4165),r=n(5861),i=n(9439),c=n(2791),l=n(5471),o=c.createContext(),d=n(9388),m=n(1413),u=n(184),A=function(){var e=(0,c.useContext)(o),t=(e.appState,e.appDispatch),n=(0,c.useState)(""),a=(0,i.Z)(n,2),s=a[0],r=a[1];return(0,u.jsxs)("form",{className:"input-group",onSubmit:function(e){e.preventDefault(),s&&t({type:"UPDATE_FILTERS",payload:{search:s}}),r("")},children:[(0,u.jsx)("input",{value:s,onChange:function(e){return r(e.target.value)},className:"form-control",type:"text",placeholder:"Szukaj zg\u0142osze\u0144..."}),(0,u.jsx)("button",{className:"btn btn-sec btn-icon-small",type:"submit",children:(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAITSURBVHgB7ZjdUcMwDMcVPh6446GdAEYIE5AN6AaMABvABrBBywSMEJiAbpBuEK5JKU0DQgp2TmnTXr7TB//ufGmcWvlblm05AAaDwWAw9IAFNQkjtC0LbhDBoVubykA9+qQypfr3+BcmwzNrBoeAv8RLEu1SwYJlzG2gT74ivCMhPgsK6Erleb7C0VII8xEHwRIdqp9kOvCN99AHizU+aBEsmAWCEMuhE6zRkW3Y07IDbAO6RHl6y3MsdLHCVz0Kiwi9vPbcpnPPq5jeemm4xqeNWPZI+HiXHSHe7yTmeXLpSZZTh8EKH2XY7INDTLVzoU2kt7WXRKx7foh2KXv/cyEJq7Bk21KwN6W3Mx2p+GLtdbYNFTgq8ifaYK75ij/wwtfTY9CrwmR4bk2hArQxvUnbraCHVcdwel9jcolR86EtdFjwb1761P0H1ETaLUuhUJHEmOQgMwthBoeODg3iAhpCrSyVQ6Wox5MJGERwBQ1xEoMtbZelkHBOTflKK4ADDUGhdittt4JPiVO6TRfcHffay9nQWiPNvSk3gZrkpQ+tobzk183sZIbZ2cGibloqRXMaDF0i8pbCx7Fk6dtOf7s/UGQ8rzrAO6qcuHyMm8c4UoLTYx63lZ3vXPzmcaxAceXo9Cped0CJcAM9ebV3uY6f7Uh9exdfh8yc6esLQFWUeK/37y5VaGJHNhgMBoPBsIs/ZZtMJ9yOEMQAAAAASUVORK5CYII=",alt:"Szukaj!"})})]})},p={search:"",form:[],department:[],date:{fromStart:!0,toEnd:!0,from:"",to:""}},f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALPSURBVHgB7ZiNcdNQDMelxOHaIz2SCWomKGwAG7QTMEMn6AjtCGwATFA2oExQM0ECDdeSxBbS+0gc1070/HHHHf7dvVzvVU+W9fT0tw3Q09PT09MWj2v6sFjSjAdVjd9Luhc7aAmEFpCgCCBWmM7HL3AK/wo+q01tQlBlXLY4zeCG/5xAlyDcjEd4qTNVEFAKjaEU3p8c49dDdhEo8EEPU3gNHbGO4BoJznGoS5AqcCbhEadDuIeOQFf9nPFEYz/QGMESLvh3Dh1C4j+DS02ZBPGwok/SFX79oXNoEfb7znWc25B1uowzlMFPswDb7Sy0tjWNoCsRjzpw75g7cQwtggPrLyP4EbIuJOOJWYBwmp+XrZ49UpyfmxFNpIUuVnRd9FO09x0LsaOMs6U5nFkGO5LN3eB2NIRvO7ZPMJGApL1BIWixj9CImXXrEqHtJttwlLBy3pkFAzgr/CvhMSGi00M+eNfKzoeZwzSsa+kzfmQd03PZN/OLp8PixOfkjbtqkpuO5Wf1sqOMTxElQBkTqWE/z4fquwlKo3iuI6E7L86PjLnzr0afcYtxzld6tY1F323Y9szZmrKD1WZNAoEEBU5oL/iwhLebuYpuU8FOPUdbTQhW5bDAS0SIn1/MzZCv3/0Ym/EY7Zqa4mNiCDEuLQuXPTzwrO57dz7IuuIjhGY8MYtyZTE9RpmbS9/OH9oiUWSDpFzgdcXHxBBoXSpCUHJoi5SVRV3xsaEEUCVCZYe2SEVZ1BIfE0OQdZUIuWAG+1qiu1lee5ebNfah4mPdBVAlQl5QaFAdOD+jePExN99EfADCBUh4Vs8bQfFbbncmyQC+5BfKW876qLn41KLqTWhfRymzqfvm4wnOeNWbkGa78zZNxMdcHwJp602oifgI2s8TG0SE+ElQROOKt/kKGlLoMmpqffTk+v7IpdL4yyv3/88nI7yAnp6enp7/jr+Pi34hGYp7nAAAAABJRU5ErkJggg==",h=n(3132),x=function(){var e={search:"",form:!1,department:!1,date:!1},t=(0,c.useContext)(o),n=t.appState,a=t.appDispatch,s=t.openWindow,r=(0,c.useState)(e),l=(0,i.Z)(r,2),d=l[0],x=l[1];return(0,c.useEffect)((function(){var t=(0,m.Z)({},e);n.currentFilters.search.length>0&&(n.currentFilters.search.length<15?t.search=n.currentFilters.search:t.search=n.currentFilters.search.substring(0,15)+"..."),n.currentFilters.form.length>0&&(t.form=!0),n.currentFilters.department.length>0&&(t.department=!0);var a=n.currentFilters.date;a.fromStart&&a.toEnd||(t.date=!0),x(t)}),[n.currentFilters]),(0,u.jsxs)("section",{className:"section-gray py-2 px-3 d-flex justify-content-start align-items-center",children:[(0,u.jsx)("div",{style:{width:"250px"},className:"me-3",children:(0,u.jsx)(A,{})}),(0,u.jsxs)("button",{className:"btn btn-prim btn-icon-text-small",onClick:function(){return s("filters",{appState:n,appDispatch:a})},children:[(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGXSURBVHgB7ZjRUcJAEIb/U3lw8iIdUIJ2YCfSgXYgVKAdUIIlUIIlBCtIHBIDCbpmmRweGPGAyxGd/WYYbpgl98/dN5dNAEEQBEEQ7FG2hW853X4Ag3J4gYZQCoOgo4ZWtTZFUUa9zilCeCDooKeUevmt7gy7ERfvuOqeqwkcYi5MPLO3wIppTo9JTlR+nuGYNKeQr81zwDUR0UWiJ5jTAI5IC7qvFiTkOdAE04yuq0mIxzgQVkRfL0roEk2ilUkdrFDawA7+iKlMUtAD9sRUBL5Iym09RJlp8aUc6wKf8PbuowwH9apIHeXk412VKetH3hXZpDoVIltlkoz6R1PkW5gZ3VVhom3KmIrwf9AGtDLpnJ621GhFxmgLpjJ1q2koEh5dkU3WlDHCrSmSUx9thFXZbJYMRUZoK7qXSY2jjrvJZXDHvcgJHLIAJjU/L0+aIEAEhzgN7hMJ7hsJXge3r+VXj8cx8AqHNBY8W9CNIixv70QYdpWK0VaMZ8ho9aBxrJ57V1Y9+l8KreE7qIu3AIIgCML/5RPlrtPwU/xPywAAAABJRU5ErkJggg==",alt:"Filtruj"}),(0,u.jsx)("span",{children:"Filtruj..."})]}),(d.search||d.form||d.department||d.date)&&(0,u.jsxs)("button",{className:"btn btn-icon-text-small btn-x ms-2",onClick:function(){return a({type:"UPDATE_FILTERS",payload:p})},children:[(0,u.jsx)("img",{src:f,alt:"Wyczy\u015b\u0107 filtry"}),(0,u.jsx)("span",{children:"Wyczy\u015b\u0107 filtry"})]}),(0,u.jsx)("div",{className:"separator mx-3"}),(0,u.jsx)("div",{className:"me-3 fw-bold font-gray-d d-flex align-items-center",children:d.search||d.form||d.department||d.date?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"font-big fw-bold me-4",children:"Filtry:"}),d.search&&(0,u.jsxs)("div",{className:"filter-pill me-3",children:[(0,u.jsxs)("span",{children:["Fraza: ",(0,u.jsx)("i",{className:"phrase",children:d.search})]}),(0,u.jsx)("button",{className:"btn btn-x btn-icon-small",onClick:function(){return a({type:"UPDATE_FILTERS",payload:{search:""}})},children:(0,u.jsx)("img",{src:h,alt:"Usu\u0144 filtr"})})]}),d.form&&(0,u.jsxs)("div",{className:"filter-pill me-3",children:[(0,u.jsx)("span",{children:"Formularz..."}),(0,u.jsx)("button",{className:"btn btn-x btn-icon-small",onClick:function(){return a({type:"UPDATE_FILTERS",payload:{form:[]}})},children:(0,u.jsx)("img",{src:h,alt:"Usu\u0144 filtr"})})]}),d.department&&(0,u.jsxs)("div",{className:"filter-pill me-3",children:[(0,u.jsx)("span",{children:"Dzia\u0142..."}),(0,u.jsx)("button",{className:"btn btn-x btn-icon-small",onClick:function(){return a({type:"UPDATE_FILTERS",payload:{department:[]}})},children:(0,u.jsx)("img",{src:h,alt:"Usu\u0144 filtr"})})]}),d.date&&(0,u.jsxs)("div",{className:"filter-pill me-3",children:[(0,u.jsx)("span",{children:"Data..."}),(0,u.jsx)("button",{className:"btn btn-x btn-icon-small",onClick:function(){return a({type:"UPDATE_FILTERS",payload:{date:p.date}})},children:(0,u.jsx)("img",{src:h,alt:"Usu\u0144 filtr"})})]})]}):"Nie zastosowano \u017cadnych filtr\xf3w..."})]})},b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIhSURBVHgB7ZiLUQIxEIb/wMDoDM5oBdKBWIGUYAdSgh2gFagVYAfagViBWgF0cCrH8Dpcd0MiL0FyxwmO+WYyd1wu5M9ms7sAeDwej8fj+QcorJGAaD87RDkToUgK+3oCwitl8byXU3VsG60BlcM+PXCjRa3dp0Z7QNWgQ8XZ8eGArqRfFr7qnIksLhPlIlRBOJ94XCfghZ+9yocMcMTWL/Ft0UzY5P7LQl7d2gEimqS/j+NCQT0jTcRyMqFYs9WnoNWji2UWa3Wmd0Wsb7/HPAuQNiLQig5li7/Z/kXIAr9cqEvnYYcqevFdukfa8EQ1V9H8bsnuyLsRa9qTXQTSRATYSVcWPS+09iXYNHElpIm1tmz5ymNCvdhlUaeBNJGtdrX2LPqQim/zQvSh5sb3FaSJidci/AEbJuPyshrqeAwdpzeMk3Cbxm1y2SROwrcJN4t/oKkHKRxiwzgJH3KVZ27L+GuEo/C1loThUg3O4uzjRLiRq8qiigRIHsgNIEaoIQbOwqM8rvkiUaUct74QS+ez0LmAQ+sbfov3Hp3aDNqJ6MxlrMm+4yItgbvEYrI8tbX1TwRcs7THxVUjbtmQmCnxUp+PapDS5DtiUSkV2j26myyqkopO/GNZH7KRvxZnuprmOvWcffomyuHiQKlE2Xdtv/IlPFIGFU5OJ5hfRJ2j0aMc7KSCLWv9e8Ii7rHTHdU1u7uqCY/H4/F4PJ54fALtWCR2Hb/RgQAAAABJRU5ErkJggg==",j=function(e){var t=e.shownCnt,n=e.allCnt;return(0,u.jsxs)("header",{className:"d-flex justify-content-between align-items-center mt-4",children:[(0,u.jsxs)("h2",{className:"fw-bold font-subtitle m-0",children:[(0,u.jsx)("span",{children:"Zg\u0142oszenia:"}),(0,u.jsxs)("span",{className:"font-gray ms-2",children:["(",t===n?n:"".concat(t," z ").concat(n),")"]})]}),(0,u.jsxs)("div",{className:"d-flex",children:[(0,u.jsxs)("button",{className:"btn btn-sec btn-icon-text-small ms-2",children:[(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHeSURBVHgB7Zj9UcIwGId/oRb/UQ8nkBEcASaQDXQEnEDcwA3EDdyAEWQD3ADk45APec1bGq9GaklLAtzluctxDbnmSZrkTQJ4PB6P55gR2DH9KVXLAToEVDOKDmTt7bNQ3CMHOxU3kP6BCI/np6KFfcHSkzn1xnMilbLKx+X62BeadG8bcWbbcpsooSDa8HhffKGOQ0fvaX7mfBc9nps0aRMh5+L/SZsIORXPkjZZLYqIn8AQbZ2uhgG4EX/KyZwXWMR4VckKLvL/QRRUyqIJixj3uOKsLHa+XTAht7gJPO5DgQYJVChA9+JEvMI1phNq01Zg/EnNPO9KUjhyZhGUcB3Pi65M7bjWGxTEujhWqPCPnBBdOVR2ttLYF7eEF3eNF3eNkwCURpHo63tcZ7SgmoyJ1UDgalNsHM6ogQDIG/6tiE8W9CBlWzwOlPQK+FgSBuH6sVYSqHGmDPndRYj6pRAD2CRrf5E4SHDq6AeO0ZyeErcB0R5mNKMWbMMnG65MP/kohlO6i8XeooYQVfQynMeJv4xqIGzDvfNrp6ddALFQ4m7lOe090yXd6rtF+/Lyc4/intfFI/n1cEmVT0o7GSYmpMkftLRClz8KaYUmfxzSCiUfzQtXE9Hj8eyHb56lZg4SXyPqAAAAAElFTkSuQmCC",alt:"Pobierz..."}),(0,u.jsx)("span",{children:"Pobierz list\u0119..."})]}),(0,u.jsxs)("button",{className:"btn btn-sec btn-icon-text-small ms-2",children:[(0,u.jsx)("img",{src:b,alt:"Od\u015bwie\u017c"}),(0,u.jsx)("span",{children:"Od\u015bwie\u017c"})]}),(0,u.jsxs)("button",{className:"btn btn-prim btn-icon-text-small ms-4",children:[(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB+SURBVHgB7dgxCoAwEETRUcTGS+j9D6WH0MZmNQdIup0Q+A9SpcgnEFgiAQAyPW+cZSnJoiQh7Uo0a1CEuxHuRrgb4W6EuxHuNrU2y1iaPeXV/GHXtk5Hbb9546F+up19vxFlKQmP041wN8LdCHcj3I1wt2HD035rf5cAANk+DLsZr5HMrBoAAAAASUVORK5CYII=",alt:"Dodaj"}),(0,u.jsx)("span",{children:"Dodaj zg\u0142oszenie"})]})]})]})},y=function(e){var t=e.cols,n=e.text,a=e.isActive,s=e.isDesc,r=e.isEven,i=e.action;return(0,u.jsxs)("div",{className:"col-".concat(t," p-0 section-gray").concat(r?"-d":""," d-flex align-items-center justify-content-between fw-bold"),children:[(0,u.jsx)("span",{className:"ps-3",children:n}),(0,u.jsx)("button",{className:"btn btn-sort ".concat(a&&"btn-sort-active"," ").concat(s&&"btn-sort-desc"),onClick:i})]})},g=function(){var e=(0,c.useContext)(o),t=e.appState,n=e.appDispatch,a=(0,c.useState)(t.sort),s=(0,i.Z)(a,2),r=s[0],l=s[1];(0,c.useEffect)((function(){return l(t.sort)}),[t.sort]);var d=function(e){var t={by:e,method:"asc"};e===r.by&&(t.method="desc"===r.method?"asc":"desc"),n({type:"SORT_CONTACTS",payload:t})};return(0,u.jsx)("section",{className:"container-fluid sticky-top mt-4 px-3",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)(y,{cols:"2",text:"Data:",isActive:"date"===r.by,isDesc:"date"===r.by&&"desc"===r.method,isEven:!0,action:function(){return d("date")}}),(0,u.jsx)(y,{cols:"4",text:"Klient:",isActive:"client"===r.by,isDesc:"client"===r.by&&"desc"===r.method,isEven:!1,action:function(){return d("client")}}),(0,u.jsx)(y,{cols:"2",text:"Dzia\u0142:",isActive:"department"===r.by,isDesc:"department"===r.by&&"desc"===r.method,isEven:!0,action:function(){return d("department")}}),(0,u.jsx)(y,{cols:"3",text:"Przekazano:",isActive:"worker"===r.by,isDesc:"worker"===r.by&&"desc"===r.method,isEven:!1,action:function(){return d("worker")}}),(0,u.jsx)(y,{cols:"1",text:"\u2605",isActive:"star"===r.by,isDesc:"star"===r.by&&"desc"===r.method,isEven:!0,action:function(){return d("star")}})]})})},k=function(e){var t=e.phrase,n=e.action;return(0,u.jsxs)("div",{className:"info-box my-4 d-flex align-items-center justify-content-between",children:[(0,u.jsxs)("h2",{className:"fw-bold font-big mb-0",children:["Wyniki wyszukiwania dla ",(0,u.jsx)("q",{children:(0,u.jsx)("i",{className:"font-black",children:t})}),":"]}),(0,u.jsx)("button",{className:"btn btn-x btn-icon-small",onClick:n,children:(0,u.jsx)("img",{src:h,alt:"Anuluj wyszukiwanie"})})]})},w=n(2426),N=n.n(w),z=function(e){var t=e.contact,n=e.isActive,a=e.select,s=e.setStar,r=(0,c.useRef)();return(0,u.jsxs)("div",{className:"row mb-2 py-2 list-item ".concat(n&&"list-item-active"),onClick:function(e){return function(e,t){e.target!==r.current&&e.target!==r.current.children[0]&&a(t)}(e,t.id)},children:[(0,u.jsx)("div",{className:"item-column col-2 py-1 ps-4 d-flex align-items-center",children:(0,u.jsx)("div",{children:N()(t.date).isValid()?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("b",{children:N()(t.date).format("DD.MM.YYYY")})," ",(0,u.jsx)("br",{}),N()(t.date).format("HH:mm")]}):(0,u.jsx)("span",{className:"font-gray fw-bold",children:"[ brak danych ]"})})}),(0,u.jsx)("div",{className:"item-column col-4 py-1 ps-3 d-flex align-items-center",children:(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:t.company||t.name||(0,u.jsx)("span",{className:"font-gray",children:"[ brak danych ]"})}),(0,u.jsx)("br",{}),t.email,t.email&&t.tel&&", ",t.tel]})}),(0,u.jsx)("div",{className:"item-column col-2 py-1 ps-3 d-flex align-items-center",children:(0,u.jsx)("b",{children:t.department&&t.department.name||(0,u.jsx)("span",{className:"font-gray",children:"[ brak danych ]"})})}),(0,u.jsx)("div",{className:"item-column col-3 py-1 ps-3 d-flex align-items-center",children:(0,u.jsx)("b",{children:t.worker&&t.worker.name||(0,u.jsx)("span",{className:"font-gray",children:"[ nie przekazano ]"})})}),(0,u.jsx)("div",{className:"item-column col-1 py-1 d-flex align-items-center justify-content-center",children:(0,u.jsx)("button",{className:"btn btn-star ".concat(t.star&&"btn-star-active"),ref:r,onClick:function(){return s(t.id,!t.star)},children:(0,u.jsx)("span",{children:"\u2605"})})})]})},v=n.p+"static/media/pic-empty.04d359cab0bb976de7f2.png",E=function(){var e=(0,c.useContext)(o),t=e.appDispatch,n=e.fetchList;return(0,u.jsxs)("div",{className:"mt-5 pt-4 text-center",children:[(0,u.jsx)("img",{src:v,alt:"Wyst\u0105pi\u0142 b\u0142\u0105d!"}),(0,u.jsx)("h2",{className:"fw-bold font-title font-gray-d mb-3",children:"Lista zg\u0142osze\u0144 jest pusta!"}),(0,u.jsxs)("p",{children:["Je\u017celi lista powinna zawiera\u0107 pozycje, skontaktuj",(0,u.jsx)("br",{}),"si\u0119 z administratorem systemu!"]}),(0,u.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,u.jsxs)("button",{className:"mt-4 mb-2 me-2 btn btn-x btn-icon-text",onClick:function(){return t({type:"UPDATE_FILTERS",payload:p})},children:[(0,u.jsx)("img",{src:f,alt:"Od\u015bwie\u017c"}),(0,u.jsx)("span",{children:"Wyczy\u015b\u0107 filtry"})]}),(0,u.jsxs)("button",{className:"mt-4 mb-2 btn btn-prim btn-icon-text",onClick:n,children:[(0,u.jsx)("img",{src:b,alt:"Od\u015bwie\u017c"}),(0,u.jsx)("span",{children:"Od\u015bwie\u017c"})]})]})]})},C=function(){var e=(0,c.useContext)(o),t=e.appState,n=e.appDispatch,a=e.waitSetStars;return(0,u.jsxs)(u.Fragment,{children:[""!==t.currentFilters.search&&(0,u.jsx)(k,{phrase:t.currentFilters.search,action:function(){return n({type:"UPDATE_FILTERS",payload:{search:""}})}}),0===t.filteredSortedList.length?(0,u.jsx)(E,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(g,{}),(0,u.jsx)("main",{className:"container-fluid mt-3 mb-5 px-3",children:t.filteredSortedList.map((function(e){return(0,u.jsx)(z,{contact:e,isActive:e.id===t.selectedContact,select:function(e){return n({type:"SELECT_CONTACT",payload:e})},setStar:a},e.id)}))})]})]})},S=n(231),R=function(e){var t=e.message,n=e.code,a=e.reload;return(0,u.jsxs)("div",{className:"mt-5 pt-4 text-center",children:[(0,u.jsx)("img",{src:S,alt:"Wyst\u0105pi\u0142 b\u0142\u0105d!"}),(0,u.jsx)("h2",{className:"fw-bold font-title font-wrong",children:"Nie uda\u0142o si\u0119 za\u0142adowa\u0107 listy!"}),(0,u.jsx)("p",{children:t}),n&&(0,u.jsxs)("span",{className:"font-gray",children:["Kod b\u0142\u0119du: ",(0,u.jsx)("b",{children:n})]}),(0,u.jsx)("div",{className:"d-flex justify-content-center",children:(0,u.jsxs)("button",{className:"mt-4 btn btn-prim btn-icon-text",onClick:a,children:[(0,u.jsx)("img",{src:b,alt:"Od\u015bwie\u017c"}),(0,u.jsx)("span",{children:"Od\u015bwie\u017c"})]})})]})},L=function(){return(0,u.jsx)("div",{className:"mt-5 pt-5 text-center",children:(0,u.jsx)("h2",{className:"fw-bold font-title font-gray",children:"\xaf\\_(\u30c4)_/\xaf"})})},Z=n(7762),I=n(4942),T=function(e){return{date:"Czas przyj\u0119cia zg\u0142oszenia",name:"Imi\u0119 i Nazwisko, Nazwa",company:"Nazwa firmy",nip:"NIP / VAT EU",email:"Adres e-mail",tel:"Numer telefonu",topic:"Temat",message:"Tre\u015b\u0107 wiadomo\u015bci",type:"Typ zg\u0142oszenia",country:"Kraj zg\u0142oszenia",address:"Adres",brand:"Marka i model",si:"Numer seryjny",cycles:"Liczba wykonanych cykli",form:"Formularz",department:"Dzia\u0142"}[e]||"[niestandardowa dana]"},D=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="Przypomnienie - zg\u0142oszenie z formularza na stronie Lazzoni Group",a={},s=[],r=0,c=Object.entries(e);r<c.length;r++){var l=(0,i.Z)(c[r],2),o=l[0],d=l[1];"string"===typeof d?""!==d&&(a=(0,m.Z)((0,m.Z)({},a),{},(0,I.Z)({},o,d))):null!==d&&("form"!==o&&"department"!==o||(a=(0,m.Z)((0,m.Z)({},a),{},(0,I.Z)({},o,d))))}for(var u=0,A=Object.entries(e);u<A.length;u++){var p=(0,i.Z)(A[u],2),f=p[0],h=p[1];"worker"===f||"author"===f||""!==h&&null!==h||s.push(f)}var x="Podane informacje:\n\n";if(0===Object.entries(a).length)x+="[brak uzupe\u0142nionych danych]\n";else{for(var b=0,j=Object.entries(a);b<j.length;b++){var y=(0,i.Z)(j[b],2),g=y[0],k=y[1];if("string"===typeof k)""!==k&&(x+="date"===g?T(g)+": "+N()(k).format("DD.MM.YYYY, HH:mm")+",\n":T(g)+": "+k+",\n");else if(null!==k){var w="";"form"!==g&&"department"!==g||(w=k.name),""!==w&&(x+=T(g)+": "+w+",\n")}}x=x.slice(0,-2)+".\n"}if(0!==s.length){x+="\nNieuzupe\u0142nione dane:\n\n";var z,v=(0,Z.Z)(s);try{for(v.s();!(z=v.n()).done;){var E=z.value;x+=T(E)+", "}}catch(C){v.e(C)}finally{v.f()}x=x.slice(0,-2)+"."}document.location="mailto:"+t+"?subject="+n+"&body="+encodeURIComponent(x)},O=function(e){var t=window.open("","");t.document.open(),t.document.write('<html><head><link rel="stylesheet" href="css/main.css"><title>Drukuj zg\u0142oszenie</title></head><body onload="window.print()"><div class="col-12"><h1>Zg\u0142oszenie z formularza na stronie Lazzoni Group:</h1></div>'+e.outerHTML||0),t.document.close(),setTimeout((function(){t.close()}),200)},U=function(e){var t=e.contact,n=e.empty,a=e.contentToPrint,s=(0,c.useContext)(o),r=s.appState,i=s.openWindow;return(0,u.jsxs)("header",{className:"mb-4 p-4 section-gray-d",children:[(0,u.jsxs)("h2",{className:"font-big fw-bold",children:[(0,u.jsx)("span",{className:"font-gray me-2",children:"Zg\u0142oszenie od:"})," ",t.company,t.name&&t.company&&", ",t.name,!t.name&&!t.company&&(0,u.jsx)("span",{className:"font-gray me-2",children:"[ brak danych ]"})]}),(0,u.jsxs)("div",{className:"mt-4",children:[(0,u.jsxs)("button",{className:"btn btn-prim btn-icon-text-small me-2 mb-2 d-inline-block",onClick:function(){return i("delegate",{contact:t,workers:r.workersList})},children:[(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHZSURBVHgB7ZftbcIwEIaPIir1X7sBIzACHaETNBu0I3SDdgO6ASMwAmwAGwQ1pimh6OpL76iDIDHNhwPyIxlEbCsv5/N7NoDH4/F4PJeAijFQCU50C3VD/qbfAVRIByoijLF/3YUxAgzg+MsWyRbu7246C2gDJHqV4JwjPFdf+Bwi3kofr0LaT+PoGbQBEf2xxncRvA89p37+c1NwDUczjfQx0QL1q7+VCcAlvPGshVAa8fgJuETcwzZvOeqp24BLWATWPWefKyjPkj6K8lswVmYJJahC+Iw+emsIbAb3AIbmPGeIq6wsXWXVFlchyJdZzCjPx6lfrBPaQFodjcpI0ZRcTgVrCzQraxWVs9KzSq8L5M39nGGzzRYeWnNWMZHTYcT+HtV0OvScNdEGh2qDr5wac9vqSPvjM8EnaBrOa7HETCuam/F27T7QBGyDcjpMN6Jub1GMw9jC8lj0tEqbLCRUOJBIsXMEJ813Ivo30nIZnhyqlkXlv3nRRk7SVezgGLmDHslZs/Q3dv9k18g9bxi3HIy/8THT50I0pwja3HiiNb7sixfRtCcavekb0RrZjDfFa48f70TrjQ1NsrO+E16cEe9CtPCfJRbxzkSXQZ2jaI/H4/HUxg+qIc+UHVSMCwAAAABJRU5ErkJggg==",alt:"Przeka\u017c"}),(0,u.jsx)("span",{children:"Przeka\u017c zg\u0142oszenie..."})]}),(0,u.jsxs)("button",{className:"btn btn-prim btn-icon-text-small me-2 mb-2 d-inline-block",onClick:function(){return i("email",{contact:t,sendMail:D})},children:[(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF6SURBVHgB7ZbtTcNADIYdviQkftANGIERwibdADaADWCDsgEjMAIjJBsEkUBoImRskotOUcp99aq08iNViZw7+80bX2UAQRAEQRCE+ZJselA1iDADLs6SSY1HsKec2C6k186bH7hZnCc5RKCo8er0GFZ0m9qsNzqOJJYuOfUNJ86qb7yDLfPV4C3lfoNOdN7X9IN7XPV5gXj5scZnFaPfKzsEgXAOzqXylg0+ca1xfW/hQ6zGJcUyjn921yV4wi7T/qIXXJQ1pqb63sIZdmnk/srFfXa0bPFlcJnulcs29b2FD8893CeRqe7yf+clmnBm3KN/7k+4x7GqxUeXMxJV+LCWnFPr2X29X9nl/osYXfatH7Sxdz8bXqDFe1eXQ+oHbyzX+KCJ7Q4gxcCRnQtnNPezosJr8MBU3zhkbRpybOBDuUiSdz2fCVXPVD/qkKVEx8B6yAol5MtNsTPhrq1i4vDn8VC23SqH67jvf3ls9tZxQRAEQRCEOfMLDNr11tTIFm8AAAAASUVORK5CYII=",alt:"Wy\u015blij"}),(0,u.jsx)("span",{children:"Wy\u015blij e-mail..."})]}),(0,u.jsxs)("button",{className:"btn btn-prim btn-icon-text-small me-2 mb-2 d-inline-block",onClick:function(){return O(a)},children:[(0,u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHDSURBVHgB7ZiNTcJQEMf/BxYwgIENcALdwI6gEygTKBNYJ1A2YAPZAEZgA3ECCIh8NPR5xZLwoe2jea3B3C8BXnjX3L/X3kcLCIIgCIKgD+kafi7UvQc4vKzAFISXkkUNxEBL+ECpiuVigATwFG7O8tTGgZxoWc04ytnVWfaLOTqHAUZz1coQbvkT6wpmcKRERnzsKpsv56W/Vnx/j+fKgQGIcBEsr0YLtbvXL1vUDT0+bPPDVc+s9gF/QUTihgtfKBUYtZAi7PTO/y3lSLvqbeELX4tPEx2/R5ucIjxtRHja6LX8X/BnmMLMzNA1K2BYJRrq2scWzuWqAxf2Mgsj8BCHiaucokVPOvZaDWi3EfCAdM3D0StvDnlDO0oR1PyvooXaxEX/J7+bxIu49z0tcoK0eVqswwAcpDcE4nWQqpI2/7Yc+olXWVWQDThjaklNXpyYLR27UOFcU5qc14+8tLf+R6LYge/QshgqvJwnZzxV3b2NDOzghIzjLVHPLNErl6gXZhdZDsun+49Qo6mqkaHGs+evgA4RvUfZxXrCWDcgJIBroarT+mNVFf89CN/nTRjE78Lc2BqHzCuCIAiCIOjyBcUnkM0u0+01AAAAAElFTkSuQmCC",alt:"Drukuj"}),(0,u.jsx)("span",{children:"Drukuj zg\u0142oszenie"})]})]}),(0,u.jsx)("div",{className:"checkbox-container mt-3 ms-1",children:(0,u.jsxs)("label",{children:["Ukryj nieuzupe\u0142nione pola",(0,u.jsx)("input",{type:"checkbox",checked:n.hideEmptyFields,onChange:function(){return n.setHideEmptyFields(!n.hideEmptyFields)}}),(0,u.jsx)("div",{className:"checkmark"})]})})]})},B=function(e){var t=e.title,n=e.fields,a=e.hideEmptyFields,s=(0,c.useState)(1),r=(0,i.Z)(s,2),l=r[0],o=r[1];return(0,c.useEffect)((function(){var e=n.filter((function(e){return e.value}));o(e.length)}),[n]),(0,u.jsxs)(u.Fragment,{children:[" ",(l>0||!a)&&(0,u.jsxs)("section",{className:"px-4 mb-5",children:[(0,u.jsxs)("h2",{className:"section-title mb-4",children:[t,":"]}),(0,u.jsx)("div",{className:"row",children:n.map((function(e,t){return(e.value||!a)&&(0,u.jsxs)("div",{className:"".concat(e.fullWidth?"col-12":"col-6"," mb-4"),children:[(0,u.jsxs)("b",{children:[e.label,":"]})," ",(0,u.jsx)("br",{}),e.value||(0,u.jsx)("span",{className:"fw-bold font-gray",children:"[ brak warto\u015bci ]"})]},t)}))})]})]})},W=function(){var e=(0,c.useContext)(o).appState,t=(0,c.useState)({}),n=(0,i.Z)(t,2),a=n[0],s=n[1],r=(0,c.useState)(!0),l=(0,i.Z)(r,2),d=l[0],m=l[1],A=(0,c.useRef)();return(0,c.useEffect)((function(){var t=e.contactsList.filter((function(t){return t.id===e.selectedContact})),n=t&&t.length>0&&t[0]||{};s(n)}),[e.selectedContact]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(U,{contentToPrint:A.current,contact:a,empty:{hideEmptyFields:d,setHideEmptyFields:m}}),(0,u.jsxs)("div",{ref:A,children:[(0,u.jsx)(B,{title:"Szczeg\xf3\u0142y zg\u0142oszenia",fields:[{label:"Formularz",value:a.form?a.form.name:null},{label:"Dzia\u0142",value:a.department?(0,u.jsxs)(u.Fragment,{children:[a.department.name," "," ","(",(0,u.jsx)("a",{href:"mailto:".concat(a.department.email),target:"_blank",children:a.department.email}),")"]}):null},{label:"Czas otrzymania zg\u0142oszenia",value:N()(a.date).isValid()?N()(a.date).format("DD.MM.YYYY, HH:mm"):(0,u.jsx)("span",{className:"font-gray fw-bold",children:"[ brak danych ]"})},{label:"Przekazano",value:a.worker?(0,u.jsxs)(u.Fragment,{children:[a.worker.name," "," ","(",(0,u.jsx)("a",{href:"mailto:".concat(a.worker.email),target:"_blank",children:a.worker.email}),")"]}):null},{label:"Autor zg\u0142oszenia",value:a.author?a.author.name:null},{label:"Typ zg\u0142oszenia",value:a.type}],hideEmptyFields:d}),(0,u.jsx)(B,{title:"Dane kontaktowe",fields:[{label:"Imi\u0119 i nazwisko, nazwa",value:a.name},{label:"Nazwa firmy",value:a.company},{label:"Adres e-mail",value:a.email?(0,u.jsx)("a",{href:"mailto:".concat(a.email),target:"_blank",children:a.email}):null},{label:"Numer telefonu",value:a.tel?(0,u.jsx)("a",{href:"tel:".concat(a.tel),target:"_blank",children:a.tel}):null},{label:"Adres",value:a.address},{label:"NIP, lub VAT EU",value:a.nip}],hideEmptyFields:d}),(0,u.jsx)(B,{title:"Wiadomo\u015b\u0107",fields:[{label:"Temat",value:a.topic,fullWidth:!0},{label:"Tre\u015b\u0107 wiadomo\u015bci",value:a.message,fullWidth:!0}],hideEmptyFields:d}),(0,u.jsx)(B,{title:"Informacje dodatkowe",fields:[{label:"Kraj zg\u0142oszenia",value:a.country},{label:"Marka i model",value:a.brand},{label:"Numer seryjny",value:a.si},{label:"Liczba wykonanych cykli",value:a.cycles}],hideEmptyFields:d})]})]})},F=n(3433),Q=function(e,t,n){var a=[];return e.forEach((function(e){var s=!0;null!==e[t]&&(n.forEach((function(n){e[t].id===n.id&&(s=!1)})),s&&a.push(e))})),a},P=function(e,t){var n=(0,F.Z)(e);return""!==t.search&&(n=function(e,t){var n=[];return e.forEach((function(e){for(var a=0,s=Object.entries(e);a<s.length;a++){var r=(0,i.Z)(s[a],2),c=(r[0],r[1]);if("string"===typeof c&&c.toLowerCase().indexOf(t.toLowerCase())>=0)return void n.push(e)}})),n}(n,t.search)),t.form.length>0&&(n=Q(n,"form",t.form)),t.department.length>0&&(n=Q(n,"department",t.department)),n=function(e,t){if(!t.fromStart){var n=[],a=t.from;e.forEach((function(e){N()(e.date).isSameOrAfter(a,"day")&&n.push(e)})),e=[].concat(n)}if(!t.toEnd){var s=[],r=t.to;e.forEach((function(e){N()(e.date).isSameOrBefore(r,"day")&&s.push(e)})),e=[].concat(s)}return e}(n,t.date),(0,F.Z)(n)},X=function(e,t){return-1*(new Date(e.date).getTime()-new Date(t.date).getTime())},H=function(e,t){var n=e.company?e.company:e.name?e.name:"zzzzzzz",a=t.company?t.company:t.name?t.name:"zzzzzzz";return n.toLowerCase(),a.toLowerCase(),n.localeCompare(a)},M=function(e,t){var n=null!==e.department&&e.department.name||"zzzzzzzzzz",a=null!==t.department&&t.department.name||"zzzzzzzzzz";return n.toLowerCase(),a.toLowerCase(),n.localeCompare(a)},Y=function(e,t){var n=null!==e.worker&&e.worker.name||"zzzzzzzzzz",a=null!==t.worker&&t.worker.name||"zzzzzzzzzz";return n.toLowerCase(),a.toLowerCase(),n.localeCompare(a)},V=function(e,t){return"date"===t.by?e=e.sort(X):"client"===t.by?e=e.sort(H):"department"===t.by?e=e.sort(M):"worker"===t.by?e=e.sort(Y):"star"===t.by&&(e=function(e){var t,n=[],a=(0,Z.Z)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.star&&n.push(s)}}catch(l){a.e(l)}finally{a.f()}var r,i=(0,Z.Z)(e);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.star||n.push(c)}}catch(l){i.e(l)}finally{i.f()}return n}(e)),"desc"===t.method&&(e=e.reverse()),(0,F.Z)(e)},G=function(e,t){if("LOAD_FORMS"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{formsList:t.payload});if("LOAD_DEPARTMENTS"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{departmentsList:t.payload});if("LOAD_WORKERS"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{workersList:t.payload});if("LOAD_STARS"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{starsList:t.payload});if("LOAD_CONTACTS"===t.type){var n=null;if(t.payload&&t.payload.length>0&&(n=t.payload[0].id),t.payload){var a,s=(0,Z.Z)(t.payload);try{var r=function(){var t=a.value,n=e.formsList.filter((function(e){return e.id===t.form}));n.length>0?(n=n[0],t.form=n):t.form=null;var s=e.departmentsList.filter((function(e){return e.id===t.department}));s.length>0?(s=s[0],t.department=s):t.department=null;var r=e.workersList.filter((function(e){return e.id===t.worker}));r.length>0?(r=r[0],t.worker=r):t.worker=null,e.starsList.filter((function(e){return e.contact_id===t.id})).length>0?t.star=!0:t.star=!1};for(s.s();!(a=s.n()).done;)r()}catch(u){s.e(u)}finally{s.f()}}return(0,m.Z)((0,m.Z)({},e),{},{listReady:!0,contactsList:t.payload,selectedContact:n,error:{isError:!1,message:"",code:""}})}if("LIST_ERROR"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{error:{isError:!0,message:t.payload.message,code:t.payload.error},listReady:!0});if("SELECT_CONTACT"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{selectedContact:t.payload});if("UPDATE_FILTERS"===t.type)return(0,m.Z)((0,m.Z)({},e),{},{currentFilters:(0,m.Z)((0,m.Z)({},e.currentFilters),t.payload)});if("FILTER_SORT_CONTACTS"===t.type){var i=P(e.contactsList,e.currentFilters),c=V(i,e.sort);return(0,m.Z)((0,m.Z)({},e),{},{filteredSortedList:c})}if("SORT_CONTACTS"===t.type){var l=P(e.contactsList,e.currentFilters),o=V(l,t.payload);return(0,m.Z)((0,m.Z)({},e),{},{sort:t.payload,filteredSortedList:o})}if("SET_STAR"===t.type){var d=e.contactsList;return d.forEach((function(e){e.id===t.payload.id&&(e.star=t.payload.setTo)})),(0,m.Z)((0,m.Z)({},e),{},{contactsList:d})}return(0,m.Z)({},e)},K={listReady:!1,formsList:[],departmentsList:[],workersList:[],starsList:[],contactsList:[],filteredSortedList:[],sort:{by:"date",method:"asc"},currentFilters:p,selectedContact:null,error:{isError:!1,message:"",code:""}},q=n(6102),J=function(e){var t=e.checkboxes,n=e.update;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"d-block checkbox-container mt-1 mb-3 ms-1",children:(0,u.jsxs)("label",{children:[(0,u.jsx)("b",{className:0===t.filter((function(e){return e.checked})).length?"font-wrong":"",children:"Wszystkie"}),(0,u.jsx)("input",{type:"checkbox",checked:0===t.filter((function(e){return!e.checked})).length,onChange:function(){return n("all")}}),(0,u.jsx)("div",{className:"checkmark"})]})}),t.map((function(e){return(0,u.jsx)("div",{className:"d-block checkbox-container mt-1 ms-1",children:(0,u.jsxs)("label",{children:[e.name,(0,u.jsx)("input",{type:"checkbox",checked:e.checked,onChange:function(){return n(e.id)}}),(0,u.jsx)("div",{className:"checkmark"})]})},e.id)}))]})},_=n(3961),$=function(e){var t=e.currentOptions,n=e.update;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"d-block checkbox-container mt-1 ms-1",children:(0,u.jsxs)("label",{children:["Od pocz\u0105tku",(0,u.jsx)("input",{type:"checkbox",checked:t.fromStart,onChange:function(){return n((0,m.Z)((0,m.Z)({},t),{},{fromStart:!t.fromStart}))}}),(0,u.jsx)("div",{className:"checkmark"})]})}),(0,u.jsx)(_.Z,{in:!t.fromStart,children:(0,u.jsx)("div",{className:"px-1",children:(0,u.jsx)("div",{className:"mt-2 mb-4",children:(0,u.jsx)("input",{type:"date",value:t.from,onChange:function(e){return n((0,m.Z)((0,m.Z)({},t),{},{from:e.target.value}))}})})})}),(0,u.jsx)("div",{className:"d-block checkbox-container mt-1 ms-1",children:(0,u.jsxs)("label",{children:["Do ko\u0144ca",(0,u.jsx)("input",{type:"checkbox",checked:t.toEnd,onChange:function(){return n((0,m.Z)((0,m.Z)({},t),{},{toEnd:!t.toEnd}))}}),(0,u.jsx)("div",{className:"checkmark"})]})}),(0,u.jsx)(_.Z,{in:!t.toEnd,children:(0,u.jsx)("div",{className:"px-1",children:(0,u.jsx)("div",{className:"mt-2 mb-4",children:(0,u.jsx)("input",{type:"date",value:t.to,onChange:function(e){return n((0,m.Z)((0,m.Z)({},t),{},{to:e.target.value}))}})})})})]})},ee=function(){var e=(0,c.useContext)(q.Z),t=e.systemState,n=e.systemDispatch,s=t.window.data,r=s.appState,l=s.appDispatch,o=r.formsList,d=r.departmentsList,A=r.currentFilters,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return(0,m.Z)((0,m.Z)({},e),{},{checked:!t.filter((function(t){return t.id===e.id})).length>0})}))},f=(0,c.useState)(p(o,A.form)),h=(0,i.Z)(f,2),x=h[0],b=h[1],j=(0,c.useState)(p(d,A.department)),y=(0,i.Z)(j,2),g=y[0],k=y[1],w=(0,c.useState)(A.date),z=(0,i.Z)(w,2),v=z[0],E=z[1],C=(0,c.useState)({ok:!0,clicked:!1,message:""}),S=(0,i.Z)(C,2),R=S[0],L=S[1];(0,c.useEffect)((function(){var e={ok:!1,clicked:!1,message:""};0===x.filter((function(e){return e.checked})).length?e.message="Nie zaznaczono \u017cadnego formularza":0===g.filter((function(e){return e.checked})).length?e.message="Nie zaznaczono \u017cadnego dzia\u0142u":!v.fromStart&&isNaN(Date.parse(v.from))?e.message="Pocz\u0105tkowa data zakresu jest nieprawid\u0142owa":!v.toEnd&&isNaN(Date.parse(v.to))?e.message="Ko\u0144cowa data zakresu jest nieprawid\u0142owa":!v.fromStart&&!v.toEnd&&N()(v.from)>N()(v.to)?e.message="Data pocz\u0105tkowa musi by\u0107 mniejsza, lub r\xf3wna dacie ko\u0144cowej":e.ok=!0,L(e)}),[x,g,v,t.window.isOpen]);var Z=function(e,t){var n={filter:void 0,setFilter:void 0};if("form"===e?n={filter:x,setFilter:b}:"department"===e&&(n={filter:g,setFilter:k}),"all"!==t)n.setFilter(n.filter.map((function(e){return e.id===t?(0,m.Z)((0,m.Z)({},e),{},{checked:!e.checked}):(0,m.Z)({},e)})));else{var a=0!==n.filter.filter((function(e){return!e.checked})).length;n.setFilter(n.filter.map((function(e){return(0,m.Z)((0,m.Z)({},e),{},{checked:a})})))}},I=function(){b(p(o,A.form)),k(p(d,A.department)),E(A.date)};(0,c.useEffect)(I,[t.window.isOpen]);var T=function(){b(p(o,[])),k(p(d,[])),E((0,m.Z)((0,m.Z)({},A.date),{},{fromStart:!0,toEnd:!0}))},D=(0,a.s0)();return(0,u.jsxs)("div",{className:"row px-2",children:[(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("h2",{className:"font-subtitle fw-bold m-0 mb-2",children:"Filtry zg\u0142osze\u0144:"}),(0,u.jsxs)("p",{className:"m-0",children:["Filtry pomagaj\u0105 w szybszym odnalezieniu rz\u0105danych zg\u0142osze\u0144.",(0,u.jsx)("br",{}),(0,u.jsxs)("b",{children:["Wi\u0119cej informacji na temat filtrowania zg\u0142osze\u0144 znale\u017a\u0107 mo\u017cna w ",(0,u.jsx)("button",{className:"fake-link link-help fw-bold",onClick:function(){n({type:"CLOSE_WINDOW"}),n({type:"SELECT_APP",payload:"help"}),D("/help/zgloszenia")},children:"centrum pomocy."})]})]})]}),(0,u.jsx)("div",{className:"col-12 mb-2",children:(0,u.jsx)("hr",{})}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsx)("h3",{className:"font-big fw-bold mb-3",children:"Formularz kontaktowy:"}),(0,u.jsx)(J,{checkboxes:x,update:function(e){return Z("form",e)}})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsx)("h3",{className:"font-big fw-bold mb-3",children:"Dzia\u0142:"}),(0,u.jsx)(J,{checkboxes:g,update:function(e){return Z("department",e)}})]}),(0,u.jsxs)("div",{className:"col-4",children:[(0,u.jsx)("h3",{className:"font-big fw-bold mb-3",children:"Data zg\u0142oszenia:"}),(0,u.jsx)($,{currentOptions:v,update:function(e){return E(e)}})]}),!R.ok&&R.clicked&&(0,u.jsxs)("div",{className:"col-12 mt-5 warning-box",children:[(0,u.jsxs)("h3",{className:"fw-bold font-big mb-0",children:[R.message||"Wyst\u0105pi\u0142 b\u0142\u0105d","."]}),(0,u.jsxs)("p",{className:"mb-0",children:["Aby zastosowa\u0107 filtry nale\u017cy rozwi\u0105za\u0107 ten problem, lub "," ",(0,u.jsx)("button",{className:"fake-link fw-bold",onClick:T,children:"wyczy\u015bci\u0107 filtry"}),". Wi\u0119cej informacji na temat filtrowania zg\u0142osze\u0144 znale\u017a\u0107 mo\u017cna w ",(0,u.jsx)("button",{className:"fake-link link-help fw-bold",onClick:function(){n({type:"CLOSE_WINDOW"}),n({type:"SELECT_APP",payload:"help"}),D("/help/zgloszenia")},children:"centrum pomocy."})]})]}),(0,u.jsx)("div",{className:"col-12 mt-4",children:(0,u.jsx)("hr",{})}),(0,u.jsxs)("div",{className:"col-12 mt-2 d-flex justify-content-between",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{className:"btn btn-x me-2 mb-1",onClick:T,children:(0,u.jsx)("span",{children:"Wyczy\u015b\u0107 filtry"})}),(0,u.jsx)("button",{className:"btn btn-sec me-2 mb-1",onClick:I,children:(0,u.jsx)("span",{children:"Cofnij zmiany"})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{className:"btn btn-sec ms-2 mb-1",onClick:function(){I(),n({type:"CLOSE_WINDOW"})},children:"Anuluj"}),(0,u.jsx)("button",{className:"btn ".concat(R.ok?"btn-prim":"btn-dis"," ms-2 mb-1"),onClick:function(){!function(){if(R.ok){var e=x.filter((function(e){return!e.checked}));e=e.map((function(e){return{id:e.id,name:e.name}}));var t=g.filter((function(e){return!e.checked}));t=t.map((function(e){return{id:e.id,name:e.name,email:e.email}}));var a=(0,m.Z)((0,m.Z)({},A),{},{form:e,department:t,date:v});l({type:"UPDATE_FILTERS",payload:a}),n({type:"CLOSE_WINDOW"})}else R.clicked||L((0,m.Z)((0,m.Z)({},R),{},{clicked:!0}))}()},children:"Zastosuj"})]})]})]})},te=function(){var e=(0,c.useContext)(q.Z),t=e.systemState,n=e.systemDispatch,s=t.window.data,r=s.contact,l=s.sendMail,o=(0,c.useState)({show:!1,message:""}),d=(0,i.Z)(o,2),m=d[0],A=d[1];(0,c.useEffect)((function(){return A({show:!1,message:""})}),[t.window]);var p=(0,a.s0)();return(0,u.jsxs)("div",{className:"row px-2",children:[(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("h2",{className:"font-subtitle fw-bold m-0 mb-2",children:"Wy\u015blij wiadomo\u015b\u0107 e-mail:"}),(0,u.jsxs)("p",{className:"m-0",children:["Wi\u0119cej informacji na temat wysy\u0142ania kontakt\xf3w mailowo znale\u017a\u0107 mo\u017cna w ",(0,u.jsx)("button",{className:"fake-link link-help fw-bold",onClick:function(){n({type:"CLOSE_WINDOW"}),n({type:"SELECT_APP",payload:"help"}),p("/help/zgloszenia")},children:"centrum pomocy."})]})]}),(0,u.jsx)("div",{className:"col-12 mb-2",children:(0,u.jsx)("hr",{})}),(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsx)("button",{className:"btn btn-prim mb-3",onClick:function(){return l(r)},children:"Wy\u015blij e-mail z danymi"}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{className:"btn btn-prim mb-1 me-2",onClick:function(){return l(r,t.user.email)},children:"Wy\u015blij do siebie"}),(0,u.jsx)("button",{className:"btn ".concat(r.email?"btn-prim":"btn-dis"," mb-1 me-2"),onClick:function(){return r.email?l(r,r.email):A({show:!0,message:"Nie mo\u017cna wykona\u0107 tej operacji, poniewa\u017c klient nie poda\u0142 adresu e-mail."})},children:"Wy\u015blij do klienta"}),(0,u.jsx)("button",{className:"btn ".concat(null!==r.worker?"btn-prim":"btn-dis"," mb-1 me-2"),onClick:function(){return null!==r.worker?l(r,r.worker.email):A({show:!0,message:"Nie mo\u017cna wykona\u0107 tej operacji, poniewa\u017c kontakt nie zosta\u0142 przekazany \u017cadnemu pracownikowi."})},children:"Wy\u015blij do pracownika"}),m.show&&(0,u.jsxs)("div",{className:"warning-box my-4 d-flex align-items-center justify-content-between",children:[(0,u.jsx)("h2",{className:"font-big fw-bold font-wrong m-0 me-4",children:m.message}),(0,u.jsx)("button",{className:"btn btn-x btn-icon-small",onClick:function(){return A({show:!1,message:""})},children:(0,u.jsx)("img",{src:h,alt:"Zamknij powiadomienie"})})]}),(0,u.jsx)("div",{className:"col-12 mb-2",children:(0,u.jsx)("hr",{})}),(0,u.jsx)("div",{className:"col-12 mt-2 d-flex justify-content-end",children:(0,u.jsx)("button",{className:"btn btn-sec",onClick:function(){return n({type:"CLOSE_WINDOW"})},children:"Anuluj"})})]})]})},ne=function(e,t){(0,c.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",n),function(){return document.removeEventListener("mousedown",n)}}),[e])},ae=function(e){var t=e.state,n=e.setState,a=e.options,s=(0,c.useState)(!1),r=(0,i.Z)(s,2),l=r[0],o=r[1],d=(0,c.useRef)(null);return ne(d,(function(){return o(!1)})),(0,u.jsxs)("div",{className:"csi-container",ref:d,children:[(0,u.jsx)("div",{className:"csi-selected",onClick:function(){return o(!l)},children:(0,u.jsx)("b",{children:t.name||(0,u.jsx)("span",{className:"font-gray",children:"Wybierz opcj\u0119"})})}),(0,u.jsx)("div",{className:"csi-options-dropdown ".concat(l?"":"d-none"),children:a.map((function(e){return(0,u.jsx)("div",{className:"csi-option",onClick:function(){n(e),o(!1)},children:e.name},e.id)}))})]})},se=n(562),re=function(){var e=(0,c.useContext)(q.Z),t=e.systemState,n=e.systemDispatch,s=t.window.data,r=s.contact,l=s.workers,o=(0,c.useState)(0),d=(0,i.Z)(o,2),m=d[0],A=d[1],p=(0,a.s0)();return(0,u.jsxs)("div",{className:"row px-2",children:[(0,u.jsxs)("div",{className:"col-12",children:[(0,u.jsxs)("h2",{className:"font-subtitle fw-bold m-0 mb-2",children:["Przeka\u017c zg\u0142oszenie",(r.company||r.name)&&(0,u.jsxs)(u.Fragment,{children:[" od ",r.company,r.company&&r.name?", ":"",r.name]}),":"]}),(0,u.jsxs)("p",{className:"m-0",children:["Wi\u0119cej informacji na temat przekazywania kontakt\xf3w znale\u017a\u0107 mo\u017cna w ",(0,u.jsx)("button",{className:"fake-link link-help fw-bold",onClick:function(){n({type:"CLOSE_WINDOW"}),n({type:"SELECT_APP",payload:"help"}),p("/help/zgloszenia")},children:"centrum pomocy."})]})]}),(0,u.jsx)("div",{className:"col-12 mb-2",children:(0,u.jsx)("hr",{})}),(0,u.jsxs)("div",{className:"col-6 mb-2",children:[(0,u.jsx)("h3",{className:"font-big fw-bold",children:"Przeka\u017c:"}),(0,u.jsx)(ae,{options:l,state:m,setState:A})]}),(0,u.jsxs)("div",{className:"col-6 mb-3 ps-4",children:[(0,u.jsx)("h3",{className:"font-big fw-bold",children:"Aktualnie przekazano:"}),null!==r.worker?(0,u.jsxs)(u.Fragment,{children:[r.worker.name,(0,u.jsx)("br",{}),(0,u.jsxs)("a",{href:"mailto:".concat(r.worker.email),children:["(",r.worker.email,")"]})]}):(0,u.jsx)("span",{className:"font-gray fw-bold",children:"Nie przekazano"}),(0,u.jsx)("div",{style:{height:"100px"}})]}),(0,u.jsx)("div",{className:"col-12 mb-2",children:(0,u.jsx)("hr",{})}),(0,u.jsxs)("div",{className:"col-12 d-flex d-flex justify-content-end",children:[(0,u.jsx)("button",{className:"btn btn-sec mb-1 ms-1",onClick:function(){return n({type:"CLOSE_WINDOW"})},children:"Anuluj"}),(0,u.jsx)("button",{className:"btn btn-prim mb-1 ms-1",children:"Przeka\u017c kontakt"})]})]})},ie=function(){var e=(0,c.useContext)(q.Z).systemDispatch;return(0,u.jsxs)("div",{className:"row d-flex align-items-center text-center text-md-start",children:[(0,u.jsx)("div",{className:"col-md-4 text-center",children:(0,u.jsx)("img",{src:S,alt:"Wyst\u0105pi\u0142 b\u0142\u0105d!",className:"img-fluid"})}),(0,u.jsxs)("div",{className:"col-md-8",children:[(0,u.jsx)("h2",{className:"font-wrong fw-bold mb-3",children:"Wyst\u0105pi\u0142 b\u0142\u0105d!"}),(0,u.jsx)("p",{children:"Wystapi\u0142 b\u0142\u0105d i nie uda\u0142o si\u0119 otworzy\u0107 okna. Prosz\u0119 spr\xf3bowa\u0107 ponownie, a je\u017celi b\u0142\u0105d si\u0119 powt\xf3rzy - skontaktuj si\u0119 z administratorem!"})]}),(0,u.jsx)("div",{className:"col-12 text-md-end mt-3 mt-md-0",children:(0,u.jsx)("button",{className:"btn btn-sec",onClick:function(){return e({type:"CLOSE_WINDOW"})},children:"Anuluj"})})]})},ce={filters:{title:"Zastosuj filtry",content:(0,u.jsx)(ee,{})},email:{title:"Wy\u015blij kontakt w wiadomo\u015bci e-mail",content:(0,u.jsx)(te,{})},delegate:{title:"Przeka\u017c pracownikowi",content:(0,u.jsx)(re,{})}},le=function(e){return ce[e]||{title:"Wyst\u0105pi\u0142 b\u0142\u0105d!",content:(0,u.jsx)(ie,{})}},oe={},de=setTimeout(null,0),me=function(){var e=(0,c.useContext)(l.Z),t=e.systemState,n=e.systemDispatch,a=(0,c.useReducer)(G,K),m=(0,i.Z)(a,2),A=m[0],p=m[1],f=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n,a,r,i,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,se.vS)(t.apiLink,"/zgloszenia/get-forms",{"auth-token":t.user.authToken});case 2:if((n=e.sent).success){e.next=5;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:{success:!1,message:"Nie uda\u0142o si\u0119 pobra\u0107 listy formularzy!",error:"@ZGLOSZENIA/get-departments#00"}}));case 5:if(n.data.success){e.next=7;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:n.data}));case 7:return p({type:"LOAD_FORMS",payload:n.data.data}),e.next=10,(0,se.vS)(t.apiLink,"/zgloszenia/get-departments",{"auth-token":t.user.authToken});case 10:if((a=e.sent).success){e.next=13;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:{success:!1,message:"Nie uda\u0142o si\u0119 pobra\u0107 listy dzia\u0142\xf3w!",error:"@ZGLOSZENIA/get-departments#00"}}));case 13:if(a.data.success){e.next=15;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:a.data}));case 15:return p({type:"LOAD_DEPARTMENTS",payload:a.data.data}),e.next=18,(0,se.vS)(t.apiLink,"/zgloszenia/get-workers",{"auth-token":t.user.authToken});case 18:if((r=e.sent).success){e.next=21;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:{success:!1,message:"Nie uda\u0142o si\u0119 pobra\u0107 listy pracownik\xf3w!",error:"@ZGLOSZENIA/get-workers#00"}}));case 21:if(r.data.success){e.next=23;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:r.data}));case 23:return p({type:"LOAD_WORKERS",payload:r.data.data}),e.next=26,(0,se.vS)(t.apiLink,"/zgloszenia/get-stars",{"auth-token":t.user.authToken});case 26:if((i=e.sent).success){e.next=29;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:{success:!1,message:"Nie uda\u0142o si\u0119 pobra\u0107 listy gwiazdek!",error:"@ZGLOSZENIA/get-stars#00"}}));case 29:if(i.data.success){e.next=31;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:i.data}));case 31:return p({type:"LOAD_STARS",payload:i.data.data}),e.next=34,(0,se.vS)(t.apiLink,"/zgloszenia/get-list",{"auth-token":t.user.authToken});case 34:if((c=e.sent).success){e.next=37;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:{success:!1,message:"Nie uda\u0142o si\u0119 pobra\u0107 listy zg\u0142osze\u0144!",error:"@ZGLOSZENIA/get-contacts#00"}}));case 37:if(c.data.success){e.next=39;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:c.data}));case 39:p({type:"LOAD_CONTACTS",payload:c.data.data}),p({type:"FILTER_SORT_CONTACTS"});case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){f()}),[]),(0,c.useEffect)((function(){return p({type:"FILTER_SORT_CONTACTS"})}),[A.currentFilters]);var h=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,se.IS)(t.apiLink,"/zgloszenia/post-stars",{"auth-token":t.user.authToken},oe);case 2:if((n=e.sent).success){e.next=5;break}return e.abrupt("return",p({type:"LIST_ERROR",payload:{success:!1,message:"Nie uda\u0142o si\u0119 zaktualizowa\u0107 danych dotycz\u0105cych oznacze\u0144 kontakt\xf3w gwiazdkami!",error:"@ZGLOSZENIA/set-stars#00"}}));case 5:n.data.success||p({type:"LIST_ERROR",payload:n.data});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)(o.Provider,{value:{appState:A,appDispatch:p,openWindow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=le(e),s=a.title,r=a.content;n({type:"OPEN_WINDOW",payload:{title:s,content:r,data:t}})},fetchList:f,waitSetStars:function(e,t){clearTimeout(de),oe[e]=t,p({type:"SET_STAR",payload:{id:e,setTo:t}}),de=setTimeout((function(){h(),oe={}}),1e3)}},children:[(0,u.jsx)(x,{}),(0,u.jsxs)("div",{className:"scroll-columns",children:[(0,u.jsxs)("div",{className:"scroll-column px-3",style:{width:"60vw"},children:[(0,u.jsx)(j,{shownCnt:A.filteredSortedList.length,allCnt:A.contactsList.length}),A.listReady?A.error.isError?(0,u.jsx)(R,{message:A.error.message,code:A.error.code,reload:f}):(0,u.jsx)(C,{}):(0,u.jsx)("div",{className:"mt-5 pt-5",children:(0,u.jsx)(d.D,{})})]}),(0,u.jsx)("div",{className:"scroll-column section-gray-l",style:{width:"40vw"},children:A.listReady?A.error.isError||0===A.contactsList.length?(0,u.jsx)(L,{}):(0,u.jsx)(W,{}):(0,u.jsx)("div",{className:"mt-5 pt-5",children:(0,u.jsx)(d.D,{})})})]})]})},ue=function(){return(0,u.jsxs)(a.Z5,{children:[(0,u.jsx)(a.AW,{index:!0,element:(0,u.jsx)(me,{})}),(0,u.jsx)(a.AW,{path:"*",element:(0,u.jsx)(a.Fg,{to:"/"})})]})}}}]);
//# sourceMappingURL=554.19335eb8.chunk.js.map